<div class="w-full mx-auto p-4 bg-white rounded shadow mb-6 chart-wrapper">
  <canvas id="inversioVabChart" class="w-full h-96 block"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  const inversioVabChartCtx = document.getElementById('inversioVabChart').getContext('2d');
  new Chart(inversioVabChartCtx, {
    type: 'scatter',
    data: {
      datasets: [
        {
          label: 'Comarques',
          data: [
            { x: 30000, y: 250, label: 'Vallès Occidental', color: 'rgba(34, 197, 94, 0.6)' },
            { x: 40000, y: 400, label: 'Barcelonès', color: 'rgba(59, 130, 246, 0.6)' },
            { x: 20000, y: 150, label: 'Alt Camp', color: 'rgba(255, 99, 132, 0.6)' },
            { x: 25000, y: 200, label: 'Baix Llobregat', color: 'rgba(255, 159, 64, 0.6)' }
          ],
          backgroundColor: function(context) {
            return context.raw.color;
          },
          borderColor: function(context) {
            return context.raw.color.replace('0.6', '1');
          },
          borderWidth: 1
        }
      ]
    },
    options: {
      scales: {
        x: {
          title: { display: true, text: 'VAB per càpita (euros)' },
          min: 0,
          max: 50000
        },
        y: {
          title: { display: true, text: 'Inversió per càpita (euros)' },
          min: 0,
          max: 500
        }
      },
      plugins: {
        legend: { display: true },
        tooltip: {
          callbacks: {
            label: function(context) {
              return context.raw.label + ': VAB=' + context.raw.x + '€, Inversió=' + context.raw.y + '€';
            }
          }
        }
      }
    }
  });
</script>