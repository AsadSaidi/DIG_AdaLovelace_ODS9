<div class="w-full mx-auto p-4 bg-white rounded shadow mb-6 chart-wrapper">
  <canvas id="scatterChart" class="w-full h-96 block"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  const scatterChartCtx = document.getElementById('scatterChart').getContext('2d');
  new Chart(scatterChartCtx, {
    type: 'scatter',
    data: {
      datasets: [
        {
          label: 'Províncies',
          data: [
            { x: 4500, y: 450, r: 20, label: 'Barcelona' },
            { x: 2800, y: 400, r: 15, label: 'Tarragona' },
            { x: 1200, y: 150, r: 10, label: 'Girona' },
            { x: 800, y: 100, r: 8, label: 'Lleida' }
          ],
          backgroundColor: 'rgba(34, 197, 94, 0.6)',
          borderColor: 'rgba(34, 197, 94, 1)',
          borderWidth: 1
        },
        {
          label: 'Línia de referència',
          data: [
            { x: 0, y: 0 },
            { x: 5000, y: 500 }
          ],
          type: 'line',
          borderColor: 'rgba(255, 99, 132, 1)',
          borderWidth: 2,
          fill: false,
          pointRadius: 0
        }
      ]
    },
    options: {
      scales: {
        x: {
          title: { display: true, text: 'Consum no renovable (ktep)' },
          min: 0,
          max: 6000
        },
        y: {
          title: { display: true, text: 'Consum renovable (ktep)' },
          min: 0,
          max: 600
        }
      },
      plugins: {
        legend: { display: true },
        tooltip: {
          callbacks: {
            label: function(context) {
              return context.raw.label + ': (' + context.raw.x + ' ktep, ' + context.raw.y + ' ktep)';
            }
          }
        }
      }
    }
  });
</script>